(function(){"use strict";var t={2683:function(t,e,a){var n=a(144),r=a(7166),o=a.n(r),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("v-main",[a("router-view")],1)],1)},i=[],l={name:"App",created(){console.log(this.$route.path)}},c=l,u=a(1001),p=a(3453),h=a.n(p),d=a(7524),f=a(7877),v=(0,u.Z)(c,s,i,!1,null,null,null),m=v.exports;h()(v,{VApp:d.Z,VMain:f.Z});var b=a(9132);n.Z.use(b.Z);let g=window.Telegram?.WebApp.themeParams;var _=new b.Z({theme:{dark:"dark"===g.colorScheme}}),Z=a(8345),y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard"},[a("Cards",{attrs:{cards:t.cards}}),a("Charts",{attrs:{charts:t.charts}})],1)},w=[],x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-row",{attrs:{"no-gutters":""}},t._l(t.cards,(function(e){return a("v-col",{key:e.name},[a("v-card",{staticClass:"ma-4"},[a("v-card-title",{staticClass:"d-flex justify-space-between"},[a("div",[a("v-icon",{staticClass:"mr-2",attrs:{large:""}},[t._v(" "+t._s(e.icon)+" ")]),t._v(" "+t._s(e.value)+" ")],1),e.has_data_table?a("router-link",{attrs:{to:"/data-table/"+e.name}},[a("v-btn",{attrs:{icon:""}},[a("v-icon",[t._v("mdi-information")])],1)],1):t._e()],1),a("v-card-text",[t._v(" "+t._s(e.name)+" ")])],1)],1)})),1)],1)},C=[],V={name:"Cards",props:["cards"]},O=V,$=a(680),T=a(3237),k=a(7118),A=a(2102),D=a(6428),j=a(2877),E=(0,u.Z)(O,x,C,!1,null,"56d9592c",null),B=E.exports;h()(E,{VBtn:$.Z,VCard:T.Z,VCardText:k.ZB,VCardTitle:k.EB,VCol:A.Z,VIcon:D.Z,VRow:j.Z});var P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.charts,(function(e){return a("v-row",{key:e.name},[a("v-col",[a("div",{staticClass:"pl-4 banner"},[t._v(t._s(e.name))]),a("apexchart",{attrs:{height:"300",type:e.type,series:e.series,options:e.options}})],1)],1)})),1)},I=[],S={props:["charts"]},M=S,W=(0,u.Z)(M,P,I,!1,null,null,null),F=W.exports;h()(W,{VCol:A.Z,VRow:j.Z});var R={name:"Dashboard",components:{Cards:B,Charts:F},data:()=>({charts:[],auth:"",cards:[]}),methods:{fetchData(){this.$http.get("/dashboard/").then((t=>{t.data.charts.forEach((t=>{let e={style:{colors:Array(t.options.xaxis.categories.length).fill("var(--tg-theme-hint-color)")}};t.options.xaxis.labels=e,t.options.yaxis={labels:e},t.options.colors=["var(--tg-theme-link-color)"]})),this.cards=t.data.cards,this.charts=t.data.charts}))}},created(){this.auth=window.Telegram?.WebApp.initData,this.fetchData()}},q=R,z=(0,u.Z)(q,y,w,!1,null,null,null),G=z.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data-table"},[a("v-app-bar",[a("v-btn",{attrs:{icon:"",to:"/"}},[a("v-icon",[t._v("mdi-arrow-left")])],1),a("v-toolbar-title",[t._v(t._s(t.$route.params.name))])],1),a("v-data-table",{staticClass:"elevation-1 ma-8",attrs:{headers:t.headers,items:t.items,options:t.options,"server-items-length":t.totalItems,loading:t.loading},on:{"update:options":function(e){t.options=e}}})],1)},J=[],K={data(){return{totalItems:0,items:[],loading:!0,options:{},headers:[]}},watch:{options:{handler(){this.getDataFromApi()},deep:!0}},methods:{getDataFromApi(){this.loading=!0,console.log(this.options);let t="/data-table/"+this.$route.params.name+"?per_page="+this.options.itemsPerPage+"&page="+this.options.page;this.options.sortBy[0]&&(t+="&sort_by="+this.options.sortBy[0]),this.options.sortDesc[0]&&(t+="&desc="+this.options.sortDesc[0]),this.$http.get(t).then((t=>{this.items=t.data.items,this.totalItems=t.data.totalItems,this.headers!==[]&&(this.headers=t.data.headers),this.loading=!1}))}}},L=K,N=a(3343),Q=a(8304),U=a(7921),X=(0,u.Z)(L,H,J,!1,null,null,null),Y=X.exports;h()(X,{VAppBar:N.Z,VBtn:$.Z,VDataTable:Q.Z,VIcon:D.Z,VToolbarTitle:U.qW}),n.Z.use(Z.Z);const tt=[{path:"/",component:G},{path:"/data-table/:name",component:Y}];var et=new Z.Z({base:"/web",routes:tt,mode:"history"}),at=a(9669),nt=a.n(at);n.Z.prototype.$http=nt();let rt=window.Telegram?.WebApp.initData;n.Z.prototype.$http.defaults.headers.common.Authorization=rt,n.Z.use(o()),n.Z.component("apexchart",o()),new n.Z({vuetify:_,router:et,render:t=>t(m)}).$mount("#app")}},e={};function a(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,a),o.exports}a.m=t,function(){var t=[];a.O=function(e,n,r,o){if(!n){var s=1/0;for(u=0;u<t.length;u++){n=t[u][0],r=t[u][1],o=t[u][2];for(var i=!0,l=0;l<n.length;l++)(!1&o||s>=o)&&Object.keys(a.O).every((function(t){return a.O[t](n[l])}))?n.splice(l--,1):(i=!1,o<s&&(s=o));if(i){t.splice(u--,1);var c=r();void 0!==c&&(e=c)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[n,r,o]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,o,s=n[0],i=n[1],l=n[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(l)var u=l(a)}for(e&&e(n);c<s.length;c++)o=s[c],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(u)},n=self["webpackChunkbot_admin"]=self["webpackChunkbot_admin"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(2683)}));n=a.O(n)})();
//# sourceMappingURL=app.5dd00a6d.js.map